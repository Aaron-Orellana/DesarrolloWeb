{% extends 'core/base.html' %}

{% block content %}
<h4>Detalle de Dirección</h4>

{% if messages %}
  <div class="alert alert-info">
    {% for message in messages %}
      <p>{{ message }}</p>
    {% endfor %}
  </div>
{% endif %}

<table class="table table-bordered">
    <tr><th>ID</th><td>{{ direccion.direccion_id }}</td></tr>
    <tr><th>Nombre</th><td>{{ direccion.nombre }}</td></tr>
    <tr><th>Responsable</th>
        <td>
            {% if direccion.profile and direccion.profile.user %}
                {{ direccion.profile.user.get_full_name|default:direccion.profile.user.username }}
            {% else %}
                <em>Sin responsable</em>
            {% endif %}
        </td>
    </tr>
    <tr><th>Estado</th><td>{{ direccion.estado }}</td></tr>
</table>

<a href="{% url 'direccion_editar' direccion.direccion_id %}" class="btn btn-warning">Editar</a>

<form method="post" action="{% url 'direccion_bloquea' direccion.direccion_id %}" style="display:inline;">
    {% csrf_token %}
    <button type="submit" class="btn btn-outline-primary">
        {% if direccion.estado == 'Activo' %}Bloquear{% else %}Activar{% endif %}
    </button>
</form>

<form method="post" action="{% url 'direccion_elimina' direccion.direccion_id %}" style="display:inline;" onsubmit="return confirm('¿Deseas eliminar esta dirección?');">
    {% csrf_token %}
    <button type="submit" class="btn btn-outline-danger">Eliminar</button>
</form>

<a href="{% url 'direccion_listar' %}" class="btn btn-secondary">Volver</a>
{% endblock %}
