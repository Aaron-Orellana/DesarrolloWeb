{% extends 'core/base.html' %}

{% block content %}
<h4>Editar Dirección</h4>

{% if messages %}
<div class="alert alert-info">
    {% for message in messages %}
        <p>{{ message }}</p>
    {% endfor %}
</div>
{% endif %}

<form method="post">
    {% csrf_token %}
    <div class="form-group mb-3">
        <label for="nombre">Nombre de la dirección:</label>
        <input type="text" id="nombre" name="nombre" class="form-control" 
               value="{{ direccion.nombre }}" required maxlength="150">
    </div>

    <div class="form-group mb-3">
        <label for="usuario">Usuario asignado:</label>
        <select id="usuario" name="usuario" class="form-control" required>
            <option value="">Seleccione un usuario</option>
            {% for u in usuarios %}
                <option value="{{ u.id }}" {% if direccion.usuario and u.id == direccion.usuario.id %}selected{% endif %}>
                    {{ u.username }}
                </option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    <a href="{% url 'direccion_listar' %}" class="btn btn-secondary">Volver</a>
</form>
{% endblock %}
