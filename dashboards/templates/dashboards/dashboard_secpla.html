{% extends "core/base.html" %}
{% block content %}

<style>
    @import url('https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css');
    :root {
        --dashboard-primary: #F9B17A;
        --dashboard-primary-hover: #d89361;
        --dashboard-bg: #2D3250;
        --dashboard-surface: #424769;
        --dashboard-muted: #676F9D;
        --dashboard-text: #FFFFFF;
    }

    body {
        background-color: var(--dashboard-bg) !important;
        color: var(--dashboard-text);
    }

    .container {
        background: transparent !important;
        box-shadow: none !important;
        padding: 0 !important;
        margin-top: 20px !important;
        max-width: 100% !important;
    }

    .dashboard-hero {
        background: var(--dashboard-surface);
        border-radius: 26px;
        padding: 38px 55px;                
        width: 85%;                      
        margin: auto;
        margin-top: 25px;
        box-shadow: 0 26px 55px rgba(7,10,26,0.38);
        border: 1px solid rgba(255,255,255,0.05);
        text-align: center;
    }

    .dashboard-hero h1 {
        font-weight: 600;
        font-size: 2.4rem;                
        color: #FFFFFF;
        margin-bottom: 10px;
    }

    .dashboard-hero p {
        color: var(--dashboard-muted);
        font-size: 1.05rem;                
        margin: 0;
    }

    .stat-card {
        background: var(--dashboard-surface);
        padding: 22px 32px;
        border-radius: 22px;
        width: 220px;                        
        height: 150px;                       
        text-align: center;
        box-shadow: 0 12px 28px rgba(0,0,0,0.30);
        border-left: 6px solid var(--dashboard-primary);
        transition: .25s ease-in-out;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .stat-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 16px 34px rgba(0,0,0,0.45);
    }

    .stat-title {
        font-size: 1.05rem;
        font-weight: 500;
        color: #FFFFFF;
        margin-bottom: 10px;
        text-align: center;
    }

    .stat-number {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--dashboard-primary);
        text-align: center;
    }

    .encuesta-card {
        background: var(--dashboard-surface);
        padding: 28px;
        border-radius: 20px;
        width: 260px;
        text-align: center;
        margin: auto;
        border: 1px solid rgba(255,255,255,0.08);
        box-shadow: 0 14px 28px rgba(7,10,26,0.45);
        transition: .25s;
        color: #FFFFFF !important;
    }

    .encuesta-card:hover {
        background-color: var(--dashboard-primary);
        color: #2D3250 !important;
        transform: translateY(-4px);
    }

    .encuesta-card h3,
    .encuesta-card div {
        color: #FFFFFF !important;
    }
</style>
<div class="dashboard-hero mt-4">
    <h1>Panel de Control - SECPLA</h1>
    <p class="mt-2">Vista general de la informaci√≥n municipal.</p>
</div>

<div class="d-flex justify-content-center flex-wrap gap-4 mt-4">

    <a href="{% url 'user_list' %}" class="text-decoration-none">
        <div class="stat-card">
            <div class="stat-title">Usuarios Registrados</div>
            <div class="stat-number">{{ total_usuarios }}</div>
        </div>
    </a>

    <a href="{% url 'solicitud_listar' %}?estado=Creada" class="text-decoration-none">
        <div class="stat-card">
            <div class="stat-title">Incidencias Creadas</div>
            <div class="stat-number">{{ incidencias_creadas }}</div>
        </div>
    </a>

    <a href="{% url 'solicitud_listar' %}?estado=Derivada" class="text-decoration-none">
        <div class="stat-card">
            <div class="stat-title">Incidencias Derivadas</div>
            <div class="stat-number">{{ incidencias_derivadas }}</div>
        </div>
    </a>

    <a href="{% url 'solicitud_listar' %}?estado=Rechazada" class="text-decoration-none">
        <div class="stat-card">
            <div class="stat-title">Incidencias Rechazadas</div>
            <div class="stat-number">{{ incidencias_rechazadas }}</div>
        </div>
    </a>

    <a href="{% url 'solicitud_listar' %}?estado=Finalizada" class="text-decoration-none">
        <div class="stat-card">
            <div class="stat-title">Incidencias Finalizadas</div>
            <div class="stat-number">{{ incidencias_finalizadas }}</div>
        </div>
    </a>
</div>

<div class="mt-4 mb-5 d-flex justify-content-center">
    <a href="{% url 'encuesta_listar' %}" class="text-decoration-none">
        <div class="encuesta-card">
            <h3>Encuestas</h3>
            <div style="font-size:2.3rem; font-weight:700;">+</div>
        </div>
    </a>
</div>
{% endblock %}
