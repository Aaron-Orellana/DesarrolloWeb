{% extends 'core/base.html' %}

{% block content %}
<h4>Detalle de Encuesta</h4>

<div class="mb-3">
    <a href="{% url 'encuesta_editar' encuesta.pk %}" class="btn btn-primary">Editar</a>
    <form method="post" action="{% url 'encuesta_cambiar_estado' encuesta.pk %}" style="display:inline;">
        {% csrf_token %}
        <input type="hidden" name="accion" value="{% if encuesta.estado %}bloquear{% else %}activar{% endif %}">
        <button type="submit" class="btn btn-warning">
            {% if encuesta.estado %}Bloquear{% else %}Activar{% endif %}
        </button>
    </form>
    <form
        method="post"
        action="{% url 'encuesta_eliminar' encuesta.pk %}"
        style="display:inline;"
        onsubmit="return confirm('¿Seguro que deseas eliminar esta encuesta?');"
    >
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Eliminar</button>
    </form>
    <a href="{% url 'encuesta_listar' %}" class="btn btn-secondary">Volver al listado</a>
</div>

<table class="table table-bordered">
    <tr>
        <th>Título</th>
        <td>{{ encuesta.titulo }}</td>
    </tr>
    <tr>
        <th>Descripción</th>
        <td>{{ encuesta.descripcion|default:"—" }}</td>
    </tr>
    <tr>
        <th>Prioridad</th>
        <td>{{ encuesta.prioridad }}</td>
    </tr>
    <tr>
        <th>Estado</th>
        <td>{{ encuesta.estado|yesno:"Activo,Inactivo" }}</td>
    </tr>
    <tr>
        <th>Fecha de Creación</th>
        <td>{{ encuesta.fecha_creacion }}</td>
    </tr>
</table>
{% endblock %}
